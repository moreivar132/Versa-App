{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":23,"numPassedTests":340,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":23,"numTotalTests":340,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1769086470118,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","GET /api/contabilidad/empresas"],"duration":666,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) GET /api/contabilidad/empresas QA-01: Admin A should see companies A1 and A2","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"QA-01: Admin A should see companies A1 and A2"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","GET /api/contabilidad/empresas"],"duration":430,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) GET /api/contabilidad/empresas QA-02: Admin B should NOT see companies from Tenant A","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"QA-02: Admin B should NOT see companies from Tenant A"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","POST /api/contabilidad/facturas"],"duration":246,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) POST /api/contabilidad/facturas QA-03: Should fail if x-empresa-id header is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"QA-03: Should fail if x-empresa-id header is missing"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","POST /api/contabilidad/facturas"],"duration":299,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) POST /api/contabilidad/facturas QA-04: Should fail if accessing empresa from another tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"QA-04: Should fail if accessing empresa from another tenant"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","POST /api/contabilidad/facturas"],"duration":422,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) POST /api/contabilidad/facturas QA-05: Should create invoice in correct empresa context","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"QA-05: Should create invoice in correct empresa context"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","GET /api/contabilidad/contactos"],"duration":733,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) GET /api/contabilidad/contactos QA-06: Should verify IBAN format on creation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"QA-06: Should verify IBAN format on creation"},{"ancestorTitles":["Contabilidad V2 Integration Tests (QA)","GET /api/contabilidad/dashboard"],"duration":1870,"failureDetails":[],"failureMessages":[],"fullName":"Contabilidad V2 Integration Tests (QA) GET /api/contabilidad/dashboard QA-07: Should return distinct metrics for different companies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"QA-07: Should return distinct metrics for different companies"}],"endTime":1769086476418,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/contabilidad.qa.test.js","startTime":1769086470182,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Deducible Validation Feature Tests","PATCH /api/contabilidad/facturas/:id/deducible"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests PATCH /api/contabilidad/facturas/:id/deducible QA-D01: Should return 401 without authentication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"QA-D01: Should return 401 without authentication"},{"ancestorTitles":["Deducible Validation Feature Tests","PATCH /api/contabilidad/facturas/:id/deducible"],"duration":581,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests PATCH /api/contabilidad/facturas/:id/deducible QA-D02: Should return 403 for user without contabilidad.deducible.approve","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"QA-D02: Should return 403 for user without contabilidad.deducible.approve"},{"ancestorTitles":["Deducible Validation Feature Tests","PATCH /api/contabilidad/facturas/:id/deducible"],"duration":409,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests PATCH /api/contabilidad/facturas/:id/deducible QA-D03: TENANT_ADMIN should be able to update deducible status","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"QA-D03: TENANT_ADMIN should be able to update deducible status"},{"ancestorTitles":["Deducible Validation Feature Tests","PATCH /api/contabilidad/facturas/:id/deducible"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests PATCH /api/contabilidad/facturas/:id/deducible QA-D04: Should create audit log entry when status changes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"QA-D04: Should create audit log entry when status changes"},{"ancestorTitles":["Deducible Validation Feature Tests","PATCH /api/contabilidad/facturas/:id/deducible"],"duration":232,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests PATCH /api/contabilidad/facturas/:id/deducible QA-D05: Should return 400 for invalid status","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"QA-D05: Should return 400 for invalid status"},{"ancestorTitles":["Deducible Validation Feature Tests","GET /api/contabilidad/facturas/export.csv"],"duration":341,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests GET /api/contabilidad/facturas/export.csv QA-D06: Should return CSV with correct content type","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"QA-D06: Should return CSV with correct content type"},{"ancestorTitles":["Deducible Validation Feature Tests","GET /api/contabilidad/facturas/export.csv"],"duration":370,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests GET /api/contabilidad/facturas/export.csv QA-D07: CSV should contain expected columns","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"QA-D07: CSV should contain expected columns"},{"ancestorTitles":["Deducible Validation Feature Tests","GET /api/contabilidad/facturas/export.csv"],"duration":350,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests GET /api/contabilidad/facturas/export.csv QA-D08: Export without empresa_id should fail for non-admin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"QA-D08: Export without empresa_id should fail for non-admin"},{"ancestorTitles":["Deducible Validation Feature Tests","GET /api/contabilidad/facturas/export.csv"],"duration":303,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests GET /api/contabilidad/facturas/export.csv QA-D09: Export with deducible_status filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"QA-D09: Export with deducible_status filter"},{"ancestorTitles":["Deducible Validation Feature Tests","GET /api/contabilidad/facturas with deducible_status filter"],"duration":403,"failureDetails":[],"failureMessages":[],"fullName":"Deducible Validation Feature Tests GET /api/contabilidad/facturas with deducible_status filter QA-D10: Should filter by deducible_status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"QA-D10: Should filter by deducible_status"}],"endTime":1769086480461,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/deducible.qa.test.js","startTime":1769086476425,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Vertical Access Control Integration","GET /api/me/access"],"duration":694,"failureDetails":[],"failureMessages":[],"fullName":"Vertical Access Control Integration GET /api/me/access returns access info for authenticated user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"returns access info for authenticated user"},{"ancestorTitles":["Vertical Access Control Integration","GET /api/me/access"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Vertical Access Control Integration GET /api/me/access returns 401 for unauthenticated request","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"returns 401 for unauthenticated request"},{"ancestorTitles":["Vertical Access Control Integration","GET /api/me/access"],"duration":211,"failureDetails":[],"failureMessages":[],"fullName":"Vertical Access Control Integration GET /api/me/access returns all verticals enabled for super admin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns all verticals enabled for super admin"},{"ancestorTitles":["Vertical Access Control Integration","Cross-Tenant Access Denial"],"duration":231,"failureDetails":[],"failureMessages":[],"fullName":"Vertical Access Control Integration Cross-Tenant Access Denial user cannot access data from another tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"user cannot access data from another tenant"},{"ancestorTitles":["Vertical Access Control Integration","Cross-Tenant Access Denial"],"duration":474,"failureDetails":[],"failureMessages":[],"fullName":"Vertical Access Control Integration Cross-Tenant Access Denial super admin can impersonate any tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"super admin can impersonate any tenant"}],"endTime":1769086482631,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/vertical-access.test.js","startTime":1769086480465,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 1: Caso OK - Request autenticada con tenant"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 1: Caso OK - Request autenticada con tenant GET /api/ventas debe retornar 200 con usuario autenticado","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"GET /api/ventas debe retornar 200 con usuario autenticado"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 1: Caso OK - Request autenticada con tenant"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 1: Caso OK - Request autenticada con tenant Response incluye campos esperados de paginación","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Response incluye campos esperados de paginación"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 2: Sin Auth - Request sin token"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 2: Sin Auth - Request sin token GET /api/ventas debe retornar 401 sin token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /api/ventas debe retornar 401 sin token"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 2: Sin Auth - Request sin token"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 2: Sin Auth - Request sin token POST /api/ventas debe retornar 401 sin token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /api/ventas debe retornar 401 sin token"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 3: Sin Tenant - Token sin id_tenant"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 3: Sin Tenant - Token sin id_tenant GET /api/ventas debe retornar 403 sin contexto de tenant","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"GET /api/ventas debe retornar 403 sin contexto de tenant"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Test 3: Sin Tenant - Token sin id_tenant"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Test 3: Sin Tenant - Token sin id_tenant Error sin tenant incluye requestId para trazabilidad","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Error sin tenant incluye requestId para trazabilidad"},{"ancestorTitles":["Módulo Ventas - Smoke Tests","Validaciones adicionales de seguridad"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas - Smoke Tests Validaciones adicionales de seguridad Los headers de respuesta incluyen X-Request-ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Los headers de respuesta incluyen X-Request-ID"},{"ancestorTitles":["Health Check"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Health Check GET /api/health debe retornar 200","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /api/health debe retornar 200"}],"endTime":1769086482883,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/ventas.smoke.test.js","startTime":1769086482636,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_sinEmail_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"register_sinEmail_lanzaError400"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_sinPassword_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"register_sinPassword_lanzaError400"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_emailInvalido_validacion","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"register_emailInvalido_validacion"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_emailValido_pasa","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"register_emailValido_pasa"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_normalizaEmail_lowercase","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"register_normalizaEmail_lowercase"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":56,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_hashPassword_noGuardaPlainText","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"register_hashPassword_noGuardaPlainText"},{"ancestorTitles":["Autenticación","Registro de Usuarios"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Registro de Usuarios register_usuarioExistente_lanzaError409","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"register_usuarioExistente_lanzaError409"},{"ancestorTitles":["Autenticación","Login"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Login login_emailPasswordRequeridos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"login_emailPasswordRequeridos"},{"ancestorTitles":["Autenticación","Login"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Login login_credencialesValidas_generaToken","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"login_credencialesValidas_generaToken"},{"ancestorTitles":["Autenticación","Login"],"duration":115,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Login login_passwordIncorrecto_noCoincide","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"login_passwordIncorrecto_noCoincide"},{"ancestorTitles":["Autenticación","Login"],"duration":113,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Login login_passwordCorrecto_coincide","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"login_passwordCorrecto_coincide"},{"ancestorTitles":["Autenticación","Login"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Login login_usuarioNoExiste_error401","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"login_usuarioNoExiste_error401"},{"ancestorTitles":["Autenticación","Token JWT"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Token JWT jwt_payloadContieneIdUsuario","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"jwt_payloadContieneIdUsuario"},{"ancestorTitles":["Autenticación","Token JWT"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Token JWT jwt_noIncluyePassword","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"jwt_noIncluyePassword"},{"ancestorTitles":["Autenticación","Token JWT"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Token JWT jwt_expiraEn1Dia","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"jwt_expiraEn1Dia"},{"ancestorTitles":["Autenticación","Token JWT"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Token JWT jwt_tokenInvalido_lanzaError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"jwt_tokenInvalido_lanzaError"},{"ancestorTitles":["Autenticación","Token JWT"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Token JWT jwt_tokenExpirado_lanzaError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"jwt_tokenExpirado_lanzaError"},{"ancestorTitles":["Autenticación","Middleware de Autenticación"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Middleware de Autenticación middleware_sinToken_retorna401","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"middleware_sinToken_retorna401"},{"ancestorTitles":["Autenticación","Middleware de Autenticación"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Middleware de Autenticación middleware_tokenEnHeader_extraeCorrecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"middleware_tokenEnHeader_extraeCorrecto"},{"ancestorTitles":["Autenticación","Middleware de Autenticación"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Middleware de Autenticación middleware_formatoIncorrecto_sinBearer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"middleware_formatoIncorrecto_sinBearer"},{"ancestorTitles":["Autenticación","Permisos y Roles"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Permisos y Roles superAdmin_tieneAccesoTotal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"superAdmin_tieneAccesoTotal"},{"ancestorTitles":["Autenticación","Permisos y Roles"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Permisos y Roles usuarioNormal_noEsSuperAdmin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"usuarioNormal_noEsSuperAdmin"},{"ancestorTitles":["Autenticación","Permisos y Roles"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Autenticación Permisos y Roles aislamiento_tenantId_requerido","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"aislamiento_tenantId_requerido"}],"endTime":1769086483212,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/auth.test.js","startTime":1769086482886,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden sin campo km","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden sin campo km"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km = null","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km = null"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km = undefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km = undefined"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km = \"\" (string vacío)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km = \"\" (string vacío)"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km = 0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km = 0"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km negativo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km negativo"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Rechaza orden con km no numérico","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza orden con km no numérico"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Acepta orden con km = 1 (mínimo válido)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Acepta orden con km = 1 (mínimo válido)"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Acepta orden con km válido (ej: 125000)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Acepta orden con km válido (ej: 125000)"},{"ancestorTitles":["KM obligatorios en órdenes","POST /api/ordenes - createOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes POST /api/ordenes - createOrden Acepta km como string numérico (\"50000\")","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Acepta km como string numérico (\"50000\")"},{"ancestorTitles":["KM obligatorios en órdenes","PUT /api/ordenes/:id - updateOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes PUT /api/ordenes/:id - updateOrden Rechaza actualización sin km","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza actualización sin km"},{"ancestorTitles":["KM obligatorios en órdenes","PUT /api/ordenes/:id - updateOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes PUT /api/ordenes/:id - updateOrden Rechaza actualización con km = null","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza actualización con km = null"},{"ancestorTitles":["KM obligatorios en órdenes","PUT /api/ordenes/:id - updateOrden"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes PUT /api/ordenes/:id - updateOrden Rechaza actualización con km = 0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rechaza actualización con km = 0"},{"ancestorTitles":["KM obligatorios en órdenes","PUT /api/ordenes/:id - updateOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"KM obligatorios en órdenes PUT /api/ordenes/:id - updateOrden Acepta actualización con km válido","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Acepta actualización con km válido"},{"ancestorTitles":["Mensaje de error claro"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Mensaje de error claro El mensaje de error es claro y legible","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"El mensaje de error es claro y legible"}],"endTime":1769086483268,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/ordenes_km_required.test.js","startTime":1769086483214,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección Se encontraron archivos HTML para verificar","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Se encontraron archivos HTML para verificar"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ admin-accesos.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ admin-accesos.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-admin-accesos.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-admin-accesos.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-marketing-email.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-marketing-email.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-billing.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-billing.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-caja.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-caja.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-chat.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-chat.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-citas.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-citas.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-clientes.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-clientes.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-compras-historial.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-compras-historial.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-compras.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-compras.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-config-facturas.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-config-facturas.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-config-ordenes.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-config-ordenes.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-configuracion.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-configuracion.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-cuentas-corrientes.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-cuentas-corrientes.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-facturas-pendientes.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-facturas-pendientes.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-facturas.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-facturas.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-fidelizacion.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-fidelizacion.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-historial-unificado.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-historial-unificado.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-inicio.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-inicio.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-inventario-nuevo.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-inventario-nuevo.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-inventario.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-inventario.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-marketplace.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-marketplace.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-ordenes-lista.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-ordenes-lista.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-ordenes.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-ordenes.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-proveedores.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-proveedores.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-sucursales.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-sucursales.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-trabajadores.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-trabajadores.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-vehiculos.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-vehiculos.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-ventas-historial.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-ventas-historial.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-ventas.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-ventas.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Detección automática de páginas sin protección"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Detección automática de páginas sin protección ✅ manager-taller-whatsapp.html tiene protección de autenticación","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"✅ manager-taller-whatsapp.html tiene protección de autenticación"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login login.html es página pública","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"login.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login cita-previa.html es página pública","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cita-previa.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login portal-cliente.html es página pública","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"portal-cliente.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login cliente-login.html es página pública","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cliente-login.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login index.html es página pública","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"index.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","Páginas públicas accesibles sin login"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Páginas públicas accesibles sin login cliente-dashboard.html es página pública","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cliente-dashboard.html es página pública"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js existe en public/","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"guard.js existe en public/"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js verifica localStorage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"guard.js verifica localStorage"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js hace validación con servidor","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"guard.js hace validación con servidor"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js tiene lista de páginas públicas","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"guard.js tiene lista de páginas públicas"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js redirige a login si no hay sesión","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"guard.js redirige a login si no hay sesión"},{"ancestorTitles":["Frontend - Protección de Autenticación","guard.js tiene protección correcta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación guard.js tiene protección correcta guard.js maneja logout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"guard.js maneja logout"},{"ancestorTitles":["Frontend - Protección de Autenticación","auth.js tiene funciones requeridas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación auth.js tiene funciones requeridas auth.js existe","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"auth.js existe"},{"ancestorTitles":["Frontend - Protección de Autenticación","auth.js tiene funciones requeridas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación auth.js tiene funciones requeridas auth.js exporta requireAuth","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"auth.js exporta requireAuth"},{"ancestorTitles":["Frontend - Protección de Autenticación","auth.js tiene funciones requeridas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación auth.js tiene funciones requeridas auth.js exporta getSession","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"auth.js exporta getSession"},{"ancestorTitles":["Frontend - Protección de Autenticación","auth.js tiene funciones requeridas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación auth.js tiene funciones requeridas auth.js exporta fetchWithAuth","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"auth.js exporta fetchWithAuth"},{"ancestorTitles":["Frontend - Protección de Autenticación","auth.js tiene funciones requeridas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación auth.js tiene funciones requeridas auth.js maneja 401 en fetchWithAuth","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"auth.js maneja 401 en fetchWithAuth"},{"ancestorTitles":["Frontend - Protección de Autenticación","Resumen de cobertura"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Frontend - Protección de Autenticación Resumen de cobertura Mostrar estadísticas de protección","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Mostrar estadísticas de protección"}],"endTime":1769086483355,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/frontend-auth.test.js","startTime":1769086483275,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Caja - Integration Tests","Estado de Caja - Cálculos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Estado de Caja - Cálculos estadoActual_saldoAperturaCorrecto","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoActual_saldoAperturaCorrecto"},{"ancestorTitles":["Caja - Integration Tests","Estado de Caja - Cálculos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Estado de Caja - Cálculos estadoActual_calculaTotalIngresos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoActual_calculaTotalIngresos"},{"ancestorTitles":["Caja - Integration Tests","Estado de Caja - Cálculos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Estado de Caja - Cálculos estadoActual_efectivoEsperado_incluyeTodosOrigenes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"estadoActual_efectivoEsperado_incluyeTodosOrigenes"},{"ancestorTitles":["Caja - Integration Tests","Movimientos de Caja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Movimientos de Caja movimiento_INGRESO_incrementaSaldoEsperado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_INGRESO_incrementaSaldoEsperado"},{"ancestorTitles":["Caja - Integration Tests","Movimientos de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Movimientos de Caja movimiento_EGRESO_decrementaSaldoEsperado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_EGRESO_decrementaSaldoEsperado"},{"ancestorTitles":["Caja - Integration Tests","Movimientos de Caja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Movimientos de Caja movimiento_validacion_tipoRequerido","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_validacion_tipoRequerido"},{"ancestorTitles":["Caja - Integration Tests","Movimientos de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Movimientos de Caja movimiento_validacion_importePositivo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_validacion_importePositivo"},{"ancestorTitles":["Caja - Integration Tests","Movimientos de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Movimientos de Caja movimiento_registra_metadatos","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"movimiento_registra_metadatos"},{"ancestorTitles":["Caja - Integration Tests","Cierre de Caja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cierre de Caja cerrarCaja_calculaDiferenciaPositiva","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"cerrarCaja_calculaDiferenciaPositiva"},{"ancestorTitles":["Caja - Integration Tests","Cierre de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cierre de Caja cerrarCaja_calculaDiferenciaNegativa","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"cerrarCaja_calculaDiferenciaNegativa"},{"ancestorTitles":["Caja - Integration Tests","Cierre de Caja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cierre de Caja cerrarCaja_cuadreExacto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cerrarCaja_cuadreExacto"},{"ancestorTitles":["Caja - Integration Tests","Cierre de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cierre de Caja cerrarCaja_actualizaEstado","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"cerrarCaja_actualizaEstado"},{"ancestorTitles":["Caja - Integration Tests","Cierre de Caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cierre de Caja cerrarCaja_creaAperturaParaSiguiente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cerrarCaja_creaAperturaParaSiguiente"},{"ancestorTitles":["Caja - Integration Tests","Cálculo de Efectivo Esperado - Completo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cálculo de Efectivo Esperado - Completo efectivoEsperado_calculoCompleto","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"efectivoEsperado_calculoCompleto"},{"ancestorTitles":["Caja - Integration Tests","Cálculo de Efectivo Esperado - Completo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Cálculo de Efectivo Esperado - Completo efectivoEsperado_noIncluyePagosTarjeta","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"efectivoEsperado_noIncluyePagosTarjeta"},{"ancestorTitles":["Caja - Integration Tests","Resultado de Periodo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Resultado de Periodo resultadoPeriodo_ingresosMayorQueEgresos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"resultadoPeriodo_ingresosMayorQueEgresos"},{"ancestorTitles":["Caja - Integration Tests","Resultado de Periodo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Resultado de Periodo resultadoPeriodo_egresosMayorQueIngresos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"resultadoPeriodo_egresosMayorQueIngresos"},{"ancestorTitles":["Caja - Integration Tests","Resultado de Periodo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Resultado de Periodo resultadoPeriodo_cero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"resultadoPeriodo_cero"},{"ancestorTitles":["Caja - Integration Tests","Formato de Moneda"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Formato de Moneda formatCurrency_numeroPositivo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"formatCurrency_numeroPositivo"},{"ancestorTitles":["Caja - Integration Tests","Formato de Moneda"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Caja - Integration Tests Formato de Moneda formatCurrency_cero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"formatCurrency_cero"}],"endTime":1769086483481,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/caja.test.js","startTime":1769086483358,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Inventory - Integration Tests","Aislamiento Multi-Tenant"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Aislamiento Multi-Tenant GET_productos_filtraPorTenant","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET_productos_filtraPorTenant"},{"ancestorTitles":["Inventory - Integration Tests","Validación de código de barras"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Validación de código de barras POST_producto_validaCodigoUnico","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST_producto_validaCodigoUnico"},{"ancestorTitles":["Inventory - Integration Tests","Movimientos de Inventario"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Movimientos de Inventario movimientoEntrada_actualizaStockPositivo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimientoEntrada_actualizaStockPositivo"},{"ancestorTitles":["Inventory - Integration Tests","Movimientos de Inventario"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Movimientos de Inventario movimientoSalida_actualizaStockNegativo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimientoSalida_actualizaStockNegativo"},{"ancestorTitles":["Inventory - Integration Tests","Movimientos de Inventario"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Movimientos de Inventario movimientoAjuste_puedeSerPositivoONegativo","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"movimientoAjuste_puedeSerPositivoONegativo"},{"ancestorTitles":["Inventory - Integration Tests","Alertas de Stock Bajo"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Alertas de Stock Bajo stockBajo_detectaProductosBajoMinimo","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"stockBajo_detectaProductosBajoMinimo"},{"ancestorTitles":["Inventory - Integration Tests","Alertas de Stock Bajo"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Alertas de Stock Bajo stockBajo_noIncluirProductosInactivos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stockBajo_noIncluirProductosInactivos"},{"ancestorTitles":["Inventory - Integration Tests","Alertas de Stock Bajo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Alertas de Stock Bajo stockBajo_calculaPorcentajeRestock","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stockBajo_calculaPorcentajeRestock"},{"ancestorTitles":["Inventory - Integration Tests","Valoración de Inventario"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Valoración de Inventario valoracion_calculaPorProducto","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"valoracion_calculaPorProducto"},{"ancestorTitles":["Inventory - Integration Tests","Valoración de Inventario"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Valoración de Inventario valoracion_totalInventario","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"valoracion_totalInventario"},{"ancestorTitles":["Inventory - Integration Tests","Historial de Movimientos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Historial de Movimientos historial_registraTodosLosTipos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"historial_registraTodosLosTipos"},{"ancestorTitles":["Inventory - Integration Tests","Historial de Movimientos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory - Integration Tests Historial de Movimientos historial_calculaStockActual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"historial_calculaStockActual"}],"endTime":1769086483798,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/inventory.test.js","startTime":1769086483487,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OrdenesService","createOrden - Cálculo de totales"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Cálculo de totales createOrden_calculaTotalCorrecto_lineaSimple","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"createOrden_calculaTotalCorrecto_lineaSimple"},{"ancestorTitles":["OrdenesService","createOrden - Cálculo de totales"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Cálculo de totales createOrden_aplicaDescuentoLinea_calculaCorrecto","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"createOrden_aplicaDescuentoLinea_calculaCorrecto"},{"ancestorTitles":["OrdenesService","createOrden - Cálculo de totales"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Cálculo de totales createOrden_multipleLineas_sumaTotales","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createOrden_multipleLineas_sumaTotales"},{"ancestorTitles":["OrdenesService","createOrden - Cálculo de totales"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Cálculo de totales createOrden_diferentesIVA_calculaCadaUno","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createOrden_diferentesIVA_calculaCadaUno"},{"ancestorTitles":["OrdenesService","createOrden - Descuento de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Descuento de stock createOrden_descontaStock_productosAfectados","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createOrden_descontaStock_productosAfectados"},{"ancestorTitles":["OrdenesService","createOrden - Descuento de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService createOrden - Descuento de stock createOrden_servicios_noDescontanStock","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"createOrden_servicios_noDescontanStock"},{"ancestorTitles":["OrdenesService","updateOrden - Recálculo de totales"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Recálculo de totales updateOrden_recalculaTotalAlAgregarLinea","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updateOrden_recalculaTotalAlAgregarLinea"},{"ancestorTitles":["OrdenesService","updateOrden - Recálculo de totales"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Recálculo de totales updateOrden_recalculaTotalAlQuitarLinea","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updateOrden_recalculaTotalAlQuitarLinea"},{"ancestorTitles":["OrdenesService","updateOrden - Ajuste diferencial de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Ajuste diferencial de stock updateOrden_aumentaCantidad_descontaDiferencia","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updateOrden_aumentaCantidad_descontaDiferencia"},{"ancestorTitles":["OrdenesService","updateOrden - Ajuste diferencial de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Ajuste diferencial de stock updateOrden_reduceCantidad_devuelveDiferencia","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updateOrden_reduceCantidad_devuelveDiferencia"},{"ancestorTitles":["OrdenesService","updateOrden - Ajuste diferencial de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Ajuste diferencial de stock updateOrden_sinCambioCantidad_stockIgual","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updateOrden_sinCambioCantidad_stockIgual"},{"ancestorTitles":["OrdenesService","updateOrden - Ajuste diferencial de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService updateOrden - Ajuste diferencial de stock updateOrden_eliminaLinea_devuelveTodoElStock","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"updateOrden_eliminaLinea_devuelveTodoElStock"},{"ancestorTitles":["OrdenesService","Normalización de tipo_item"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Normalización de tipo_item normalizarTipoItem_producto","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"normalizarTipoItem_producto"},{"ancestorTitles":["OrdenesService","Normalización de tipo_item"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Normalización de tipo_item normalizarTipoItem_servicio","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"normalizarTipoItem_servicio"},{"ancestorTitles":["OrdenesService","Cálculo de estado de pago"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Cálculo de estado de pago estadoPago_totalPagado_completado","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoPago_totalPagado_completado"},{"ancestorTitles":["OrdenesService","Cálculo de estado de pago"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Cálculo de estado de pago estadoPago_pagoParcial_parcial","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoPago_pagoParcial_parcial"},{"ancestorTitles":["OrdenesService","Cálculo de estado de pago"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Cálculo de estado de pago estadoPago_sinPago_pendiente","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoPago_sinPago_pendiente"},{"ancestorTitles":["OrdenesService","Cálculo de estado de pago"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrdenesService Cálculo de estado de pago estadoPago_sobrepago_pagado","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"estadoPago_sobrepago_pagado"}],"endTime":1769086483873,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/ordenesService.test.js","startTime":1769086483808,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_sinIdOrden_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_sinIdOrden_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_idOrdenUndefined_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_idOrdenUndefined_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeNull_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeNull_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeUndefined_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeUndefined_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeVacio_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeVacio_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeCero_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeCero_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeNegativo_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeNegativo_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_importeNoNumerico_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeNoNumerico_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de inputs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de inputs registrarPago_sinMedioPago_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_sinMedioPago_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de entidades"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de entidades registrarPago_ordenNoExiste_lanzaError404","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"registrarPago_ordenNoExiste_lanzaError404"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de entidades"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de entidades registrarPago_medioPagoInvalido_lanzaError404","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"registrarPago_medioPagoInvalido_lanzaError404"},{"ancestorTitles":["OrdenPagoService","registrarPago","Validación de entidades"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Validación de entidades registrarPago_cajaNoExiste_lanzaError400","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_cajaNoExiste_lanzaError400"},{"ancestorTitles":["OrdenPagoService","registrarPago","Flujo exitoso"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Flujo exitoso registrarPago_conDatosValidos_creaPago","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"registrarPago_conDatosValidos_creaPago"},{"ancestorTitles":["OrdenPagoService","registrarPago","Flujo exitoso"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Flujo exitoso registrarPago_conMedioPagoPorCodigo_resuelveCorrectamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_conMedioPagoPorCodigo_resuelveCorrectamente"},{"ancestorTitles":["OrdenPagoService","registrarPago","Flujo exitoso"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Flujo exitoso registrarPago_conMedioPagoPorId_resuelveCorrectamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_conMedioPagoPorId_resuelveCorrectamente"},{"ancestorTitles":["OrdenPagoService","registrarPago","Auto-detección y creación de caja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Auto-detección y creación de caja registrarPago_sinCaja_detectaCajaAbierta","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"registrarPago_sinCaja_detectaCajaAbierta"},{"ancestorTitles":["OrdenPagoService","registrarPago","Auto-detección y creación de caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Auto-detección y creación de caja registrarPago_sinCaja_creaNuevaCaja","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"registrarPago_sinCaja_creaNuevaCaja"},{"ancestorTitles":["OrdenPagoService","registrarPago","Manejo de transacciones"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Manejo de transacciones registrarPago_errorEnInsercion_propagaError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_errorEnInsercion_propagaError"},{"ancestorTitles":["OrdenPagoService","registrarPago","Casos edge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Casos edge registrarPago_importeDecimal_proceseCorrectamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeDecimal_proceseCorrectamente"},{"ancestorTitles":["OrdenPagoService","registrarPago","Casos edge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Casos edge registrarPago_importeComoString_convierteANumero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_importeComoString_convierteANumero"},{"ancestorTitles":["OrdenPagoService","registrarPago","Casos edge"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoService registrarPago Casos edge registrarPago_referenciaNull_proceseCorrectamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"registrarPago_referenciaNull_proceseCorrectamente"}],"endTime":1769086483928,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/ordenPagoService.test.js","startTime":1769086483883,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Module Template"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"Module Template routes module loads without error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"routes module loads without error"},{"ancestorTitles":["Module Template"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Module Template controller module loads without error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"controller module loads without error"},{"ancestorTitles":["Module Template"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Module Template service module loads without error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"service module loads without error"},{"ancestorTitles":["Module Template"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Module Template repo module loads without error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"repo module loads without error"},{"ancestorTitles":["Module Template"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Template schemas module loads without error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"schemas module loads without error"}],"endTime":1769086483987,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/src/modules/_template/__tests__/smoke.test.js","startTime":1769086483934,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Módulo Ventas"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas routes carga sin error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"routes carga sin error"},{"ancestorTitles":["Módulo Ventas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas controller carga sin error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"controller carga sin error"},{"ancestorTitles":["Módulo Ventas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas service carga sin error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"service carga sin error"},{"ancestorTitles":["Módulo Ventas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Módulo Ventas repo carga sin error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"repo carga sin error"}],"endTime":1769086484041,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/src/modules/ventas/__tests__/smoke.test.js","startTime":1769086483989,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OrdenPagoRepository","existeOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository existeOrden existeOrden_ordenExiste_retornaTrue","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"existeOrden_ordenExiste_retornaTrue"},{"ancestorTitles":["OrdenPagoRepository","existeOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository existeOrden existeOrden_ordenNoExiste_retornaFalse","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"existeOrden_ordenNoExiste_retornaFalse"},{"ancestorTitles":["OrdenPagoRepository","obtenerDatosOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerDatosOrden obtenerDatosOrden_ordenExiste_retornaDatos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"obtenerDatosOrden_ordenExiste_retornaDatos"},{"ancestorTitles":["OrdenPagoRepository","obtenerDatosOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerDatosOrden obtenerDatosOrden_ordenNoExiste_retornaUndefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"obtenerDatosOrden_ordenNoExiste_retornaUndefined"},{"ancestorTitles":["OrdenPagoRepository","obtenerMedioPagoPorCodigoOId"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerMedioPagoPorCodigoOId obtenerMedioPagoPorCodigo_existe_retornaMedioPago","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"obtenerMedioPagoPorCodigo_existe_retornaMedioPago"},{"ancestorTitles":["OrdenPagoRepository","obtenerMedioPagoPorCodigoOId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerMedioPagoPorCodigoOId obtenerMedioPagoPorId_existe_retornaMedioPago","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"obtenerMedioPagoPorId_existe_retornaMedioPago"},{"ancestorTitles":["OrdenPagoRepository","obtenerMedioPagoPorCodigoOId"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerMedioPagoPorCodigoOId obtenerMedioPagoPorCodigo_noExiste_retornaNull","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"obtenerMedioPagoPorCodigo_noExiste_retornaNull"},{"ancestorTitles":["OrdenPagoRepository","obtenerMedioPagoPorCodigoOId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerMedioPagoPorCodigoOId obtenerMedioPagoPorCodigo_caseInsensitive_funciona","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"obtenerMedioPagoPorCodigo_caseInsensitive_funciona"},{"ancestorTitles":["OrdenPagoRepository","obtenerMedioPagoPorCodigoOId"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerMedioPagoPorCodigoOId obtenerMedioPagoPorId_idString_detectaComoNumero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"obtenerMedioPagoPorId_idString_detectaComoNumero"},{"ancestorTitles":["OrdenPagoRepository","existeCaja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository existeCaja existeCaja_cajaExiste_retornaTrue","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"existeCaja_cajaExiste_retornaTrue"},{"ancestorTitles":["OrdenPagoRepository","existeCaja"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository existeCaja existeCaja_cajaNoExiste_retornaFalse","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"existeCaja_cajaNoExiste_retornaFalse"},{"ancestorTitles":["OrdenPagoRepository","insertarPagoOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository insertarPagoOrden insertarPagoOrden_datosValidos_insertaRegistro","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"insertarPagoOrden_datosValidos_insertaRegistro"},{"ancestorTitles":["OrdenPagoRepository","insertarPagoOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository insertarPagoOrden insertarPagoOrden_conClienteTransaccion_usaCliente","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"insertarPagoOrden_conClienteTransaccion_usaCliente"},{"ancestorTitles":["OrdenPagoRepository","insertarPagoOrden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository insertarPagoOrden insertarPagoOrden_sinReferencia_insertaNull","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"insertarPagoOrden_sinReferencia_insertaNull"},{"ancestorTitles":["OrdenPagoRepository","obtenerPagosPorOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerPagosPorOrden obtenerPagosPorOrden_conPagos_retornaArray","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"obtenerPagosPorOrden_conPagos_retornaArray"},{"ancestorTitles":["OrdenPagoRepository","obtenerPagosPorOrden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerPagosPorOrden obtenerPagosPorOrden_sinPagos_retornaArrayVacio","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"obtenerPagosPorOrden_sinPagos_retornaArrayVacio"},{"ancestorTitles":["OrdenPagoRepository","obtenerTodosMediosPago"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrdenPagoRepository obtenerTodosMediosPago obtenerTodosMediosPago_retornaLista","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"obtenerTodosMediosPago_retornaLista"}],"endTime":1769086484069,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/repositories/ordenPagoRepository.test.js","startTime":1769086484043,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Cuentas Corrientes","Gestión de Cuentas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Gestión de Cuentas crearCuenta_clienteNuevo_cuentaEstadoActiva","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"crearCuenta_clienteNuevo_cuentaEstadoActiva"},{"ancestorTitles":["Cuentas Corrientes","Gestión de Cuentas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Gestión de Cuentas cuenta_limiteCreditoPorDefecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cuenta_limiteCreditoPorDefecto"},{"ancestorTitles":["Cuentas Corrientes","Gestión de Cuentas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Gestión de Cuentas cuenta_estados_validos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"cuenta_estados_validos"},{"ancestorTitles":["Cuentas Corrientes","Gestión de Cuentas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Gestión de Cuentas cuenta_aislamiento_porTenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cuenta_aislamiento_porTenant"},{"ancestorTitles":["Cuentas Corrientes","Movimientos de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Movimientos de Cuenta movimiento_CARGO_incrementaSaldo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_CARGO_incrementaSaldo"},{"ancestorTitles":["Cuentas Corrientes","Movimientos de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Movimientos de Cuenta movimiento_ABONO_decrementaSaldo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"movimiento_ABONO_decrementaSaldo"},{"ancestorTitles":["Cuentas Corrientes","Movimientos de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Movimientos de Cuenta movimiento_registra_saldoAnterior","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"movimiento_registra_saldoAnterior"},{"ancestorTitles":["Cuentas Corrientes","Movimientos de Cuenta"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Movimientos de Cuenta movimiento_origenTipo_identificaOrigen","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"movimiento_origenTipo_identificaOrigen"},{"ancestorTitles":["Cuentas Corrientes","Movimientos de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Movimientos de Cuenta movimiento_historial_ordenadoPorFecha","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"movimiento_historial_ordenadoPorFecha"},{"ancestorTitles":["Cuentas Corrientes","Límite de Crédito"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Límite de Crédito limiteCredito_validar_noExcede","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"limiteCredito_validar_noExcede"},{"ancestorTitles":["Cuentas Corrientes","Límite de Crédito"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Límite de Crédito limiteCredito_excedido_bloqueaCargo","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"limiteCredito_excedido_bloqueaCargo"},{"ancestorTitles":["Cuentas Corrientes","Límite de Crédito"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Límite de Crédito limiteCredito_creditoDisponible","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"limiteCredito_creditoDisponible"},{"ancestorTitles":["Cuentas Corrientes","Límite de Crédito"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Límite de Crédito limiteCredito_saldoNegativo_creditoMayorQueLimite","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"limiteCredito_saldoNegativo_creditoMayorQueLimite"},{"ancestorTitles":["Cuentas Corrientes","Cobros y Pagos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cobros y Pagos pago_totalDeuda_saldoCero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pago_totalDeuda_saldoCero"},{"ancestorTitles":["Cuentas Corrientes","Cobros y Pagos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cobros y Pagos pago_parcial_reduceDeuda","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pago_parcial_reduceDeuda"},{"ancestorTitles":["Cuentas Corrientes","Cobros y Pagos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cobros y Pagos pago_mayorQueDeuda_generaSaldoFavor","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pago_mayorQueDeuda_generaSaldoFavor"},{"ancestorTitles":["Cuentas Corrientes","Cobros y Pagos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cobros y Pagos pago_registra_medioPago","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"pago_registra_medioPago"},{"ancestorTitles":["Cuentas Corrientes","Cobros y Pagos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cobros y Pagos pago_afecta_caja","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"pago_afecta_caja"},{"ancestorTitles":["Cuentas Corrientes","Cargo desde Orden/Venta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cargo desde Orden/Venta cargoDesdeOrden_registraReferencia","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"cargoDesdeOrden_registraReferencia"},{"ancestorTitles":["Cuentas Corrientes","Cargo desde Orden/Venta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cargo desde Orden/Venta cargoDesdeVenta_registraReferencia","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"cargoDesdeVenta_registraReferencia"},{"ancestorTitles":["Cuentas Corrientes","Cargo desde Orden/Venta"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Cargo desde Orden/Venta cargo_conMedioPago_CC","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cargo_conMedioPago_CC"},{"ancestorTitles":["Cuentas Corrientes","Estadísticas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Estadísticas stats_deudaTotal_sumaSaldos","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stats_deudaTotal_sumaSaldos"},{"ancestorTitles":["Cuentas Corrientes","Estadísticas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Estadísticas stats_cobradoMes_filtraPorFecha","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stats_cobradoMes_filtraPorFecha"},{"ancestorTitles":["Cuentas Corrientes","Estadísticas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Estadísticas stats_clientesConDeuda_cuenta","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stats_clientesConDeuda_cuenta"},{"ancestorTitles":["Cuentas Corrientes","Suspensión de Cuenta"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Suspensión de Cuenta cuenta_suspendida_noPermiteCargos","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cuenta_suspendida_noPermiteCargos"},{"ancestorTitles":["Cuentas Corrientes","Suspensión de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Suspensión de Cuenta cuenta_suspendida_permiteAbonos","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cuenta_suspendida_permiteAbonos"},{"ancestorTitles":["Cuentas Corrientes","Suspensión de Cuenta"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cuentas Corrientes Suspensión de Cuenta cuenta_cerrada_noPermiteMovimientos","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cuenta_cerrada_noPermiteMovimientos"}],"endTime":1769086484102,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/cuentasCorrientes.test.js","startTime":1769086484072,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Fiscal Profile Enums","LegalForm"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums LegalForm should have all Spanish legal forms","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have all Spanish legal forms"},{"ancestorTitles":["Fiscal Profile Enums","LegalForm"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums LegalForm should be frozen (immutable)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should be frozen (immutable)"},{"ancestorTitles":["Fiscal Profile Enums","IrpfRegime"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums IrpfRegime should have all IRPF regimes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have all IRPF regimes"},{"ancestorTitles":["Fiscal Profile Enums","VatRegime"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums VatRegime should have all VAT regimes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have all VAT regimes"},{"ancestorTitles":["Fiscal Profile Enums","WithholdingType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums WithholdingType should have all withholding types","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have all withholding types"},{"ancestorTitles":["Fiscal Profile Enums","TaxRuleType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums TaxRuleType should have IS rate type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have IS rate type"},{"ancestorTitles":["Fiscal Profile Enums","TaxRuleType"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums TaxRuleType should have all VAT rate types","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have all VAT rate types"},{"ancestorTitles":["Fiscal Profile Enums","TaxRuleType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Enums TaxRuleType should have regime limit types","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have regime limit types"},{"ancestorTitles":["Fiscal Profile Helpers","requiresIrpfRegime()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers requiresIrpfRegime() should return true for AUTONOMO","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for AUTONOMO"},{"ancestorTitles":["Fiscal Profile Helpers","requiresIrpfRegime()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers requiresIrpfRegime() should return false for SL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for SL"},{"ancestorTitles":["Fiscal Profile Helpers","requiresIrpfRegime()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers requiresIrpfRegime() should return false for SA","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for SA"},{"ancestorTitles":["Fiscal Profile Helpers","isSubjectToIS()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers isSubjectToIS() should return true for SL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for SL"},{"ancestorTitles":["Fiscal Profile Helpers","isSubjectToIS()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers isSubjectToIS() should return true for SA","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for SA"},{"ancestorTitles":["Fiscal Profile Helpers","isSubjectToIS()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers isSubjectToIS() should return false for AUTONOMO","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for AUTONOMO"},{"ancestorTitles":["Fiscal Profile Helpers","getApplicableTaxModels()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers getApplicableTaxModels() should return IS models for SL with general VAT","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return IS models for SL with general VAT"},{"ancestorTitles":["Fiscal Profile Helpers","getApplicableTaxModels()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers getApplicableTaxModels() should return IRPF 130 for AUTONOMO with directa simplificada","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return IRPF 130 for AUTONOMO with directa simplificada"},{"ancestorTitles":["Fiscal Profile Helpers","getApplicableTaxModels()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers getApplicableTaxModels() should return IRPF 131 for AUTONOMO with modulos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return IRPF 131 for AUTONOMO with modulos"},{"ancestorTitles":["Fiscal Profile Helpers","getApplicableTaxModels()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers getApplicableTaxModels() should include withholding models when applicable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include withholding models when applicable"},{"ancestorTitles":["Fiscal Profile Helpers","getApplicableTaxModels()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Fiscal Profile Helpers getApplicableTaxModels() should not include VAT models for exempt entities","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not include VAT models for exempt entities"}],"endTime":1769086484138,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/fiscalProfile.unit.test.js","startTime":1769086484115,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Facturación","Numeración de Facturas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Numeración de Facturas numeroFactura_formatoCorrecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"numeroFactura_formatoCorrecto"},{"ancestorTitles":["Facturación","Numeración de Facturas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Numeración de Facturas numeroFactura_sinSufijo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"numeroFactura_sinSufijo"},{"ancestorTitles":["Facturación","Numeración de Facturas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Numeración de Facturas numeroFactura_correlativoAutoincrementa","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"numeroFactura_correlativoAutoincrementa"},{"ancestorTitles":["Facturación","Numeración de Facturas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Numeración de Facturas numeroFactura_unicoPorSerie","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"numeroFactura_unicoPorSerie"},{"ancestorTitles":["Facturación","Emisión de Factura desde Orden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Emisión de Factura desde Orden emitir_ordenValida_creaFactura","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"emitir_ordenValida_creaFactura"},{"ancestorTitles":["Facturación","Emisión de Factura desde Orden"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Emisión de Factura desde Orden emitir_ordenYaFacturada_error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"emitir_ordenYaFacturada_error"},{"ancestorTitles":["Facturación","Emisión de Factura desde Orden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Emisión de Factura desde Orden emitir_copiaLineasOrden","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"emitir_copiaLineasOrden"},{"ancestorTitles":["Facturación","Emisión de Factura desde Orden"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Emisión de Factura desde Orden emitir_actualizaOrden_conIdFactura","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"emitir_actualizaOrden_conIdFactura"},{"ancestorTitles":["Facturación","Datos de Factura"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Datos de Factura factura_datosCliente_completos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"factura_datosCliente_completos"},{"ancestorTitles":["Facturación","Datos de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Datos de Factura factura_datosEmisor_desdeSucursal","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"factura_datosEmisor_desdeSucursal"},{"ancestorTitles":["Facturación","Datos de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Datos de Factura factura_fechaEmision_hoy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"factura_fechaEmision_hoy"},{"ancestorTitles":["Facturación","Datos de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Datos de Factura factura_totales_calculadosCorrectamente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"factura_totales_calculadosCorrectamente"},{"ancestorTitles":["Facturación","Series de Facturación"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Series de Facturación serie_tienePrefijoUnico","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"serie_tienePrefijoUnico"},{"ancestorTitles":["Facturación","Series de Facturación"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Series de Facturación serie_porDefecto_unaActivaMax","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"serie_porDefecto_unaActivaMax"},{"ancestorTitles":["Facturación","Series de Facturación"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Series de Facturación serie_tipoDocumento_validos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"serie_tipoDocumento_validos"},{"ancestorTitles":["Facturación","Estados de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Estados de Factura factura_estadoInicial_EMITIDA","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"factura_estadoInicial_EMITIDA"},{"ancestorTitles":["Facturación","Estados de Factura"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Estados de Factura factura_estados_transiciones","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"factura_estados_transiciones"},{"ancestorTitles":["Facturación","Estados de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Estados de Factura factura_anulada_noPermiteModificacion","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"factura_anulada_noPermiteModificacion"},{"ancestorTitles":["Facturación","Pagos de Factura"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Pagos de Factura factura_copiaPagosDeOrden","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"factura_copiaPagosDeOrden"},{"ancestorTitles":["Facturación","Pagos de Factura"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Pagos de Factura factura_estadoPago_calculado","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"factura_estadoPago_calculado"},{"ancestorTitles":["Facturación","Generación de PDF"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Generación de PDF pdf_datosRequeridos_completos","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"pdf_datosRequeridos_completos"},{"ancestorTitles":["Facturación","Listado y Filtros"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Listado y Filtros listar_filtraPorTenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"listar_filtraPorTenant"},{"ancestorTitles":["Facturación","Listado y Filtros"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Listado y Filtros listar_filtraPorFecha","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"listar_filtraPorFecha"},{"ancestorTitles":["Facturación","Listado y Filtros"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Listado y Filtros listar_buscaPorNumero","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"listar_buscaPorNumero"},{"ancestorTitles":["Facturación","Estadísticas"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Estadísticas stats_facturadoMes_sumaTotal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stats_facturadoMes_sumaTotal"},{"ancestorTitles":["Facturación","Estadísticas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Facturación Estadísticas stats_cantidadFacturas_cuenta","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stats_cantidadFacturas_cuenta"}],"endTime":1769086484167,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/facturacion.test.js","startTime":1769086484140,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Empresa Controller","create"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller create debería crear una empresa correctamente","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"debería crear una empresa correctamente"},{"ancestorTitles":["Empresa Controller","create"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller create debería fallar si faltan datos obligatorios","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería fallar si faltan datos obligatorios"},{"ancestorTitles":["Empresa Controller","list"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller list debería listar empresas para admin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería listar empresas para admin"},{"ancestorTitles":["Empresa Controller","list"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller list debería listar solo asignadas para usuario normal","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería listar solo asignadas para usuario normal"},{"ancestorTitles":["Empresa Controller","update"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller update debería actualizar una empresa existente","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería actualizar una empresa existente"},{"ancestorTitles":["Empresa Controller","update"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Empresa Controller update debería devolver 404 si empresa no existe","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería devolver 404 si empresa no existe"}],"endTime":1769086484194,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/controllers/empresaController.test.js","startTime":1769086484170,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["requireVerticalAccess","authentication checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess authentication checks returns 401 if no user in request","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns 401 if no user in request"},{"ancestorTitles":["requireVerticalAccess","authentication checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess authentication checks returns 400 if no tenant identified","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 400 if no tenant identified"},{"ancestorTitles":["requireVerticalAccess","super admin bypass"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess super admin bypass allows super admin to access any vertical","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"allows super admin to access any vertical"},{"ancestorTitles":["requireVerticalAccess","vertical access checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess vertical access checks allows access when tenant has vertical enabled","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"allows access when tenant has vertical enabled"},{"ancestorTitles":["requireVerticalAccess","vertical access checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess vertical access checks returns 403 when vertical not enabled for tenant","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns 403 when vertical not enabled for tenant"},{"ancestorTitles":["requireVerticalAccess","vertical access checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess vertical access checks returns 404 when vertical does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 404 when vertical does not exist"},{"ancestorTitles":["requireVerticalAccess","log-only mode"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"requireVerticalAccess log-only mode allows request but logs would-be block in log-only mode","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"allows request but logs would-be block in log-only mode"},{"ancestorTitles":["getUserAccessibleVerticals"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"getUserAccessibleVerticals returns all verticals for super admin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns all verticals for super admin"},{"ancestorTitles":["getUserAccessibleVerticals"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"getUserAccessibleVerticals returns only enabled verticals for regular user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns only enabled verticals for regular user"},{"ancestorTitles":["buildUserAccessInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"buildUserAccessInfo returns complete access info structure","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns complete access info structure"}],"endTime":1769086484223,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/verticalAccess.test.js","startTime":1769086484201,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["VentasService","createVenta","Cálculo de totales"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Cálculo de totales createVenta_calculaTotalCorrecto","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createVenta_calculaTotalCorrecto"},{"ancestorTitles":["VentasService","createVenta","Cálculo de totales"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Cálculo de totales createVenta_conDescuento_calculaCorrectamente","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"createVenta_conDescuento_calculaCorrectamente"},{"ancestorTitles":["VentasService","createVenta","Cálculo de totales"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Cálculo de totales createVenta_multipleLineas_sumaTotales","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createVenta_multipleLineas_sumaTotales"},{"ancestorTitles":["VentasService","createVenta","Descuento de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Descuento de stock createVenta_descontaStock_calculaDiferenciaCorrecta","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"createVenta_descontaStock_calculaDiferenciaCorrecta"},{"ancestorTitles":["VentasService","createVenta","Descuento de stock"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Descuento de stock createVenta_stockInsuficiente_detectaCorrectamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"createVenta_stockInsuficiente_detectaCorrectamente"},{"ancestorTitles":["VentasService","createVenta","Registro de pago"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Registro de pago createVenta_registraPago_importeCorrecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"createVenta_registraPago_importeCorrecto"},{"ancestorTitles":["VentasService","createVenta","Registro de pago"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService createVenta Registro de pago createVenta_pagoInsuficiente_detectaSaldo","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createVenta_pagoInsuficiente_detectaSaldo"},{"ancestorTitles":["VentasService","anularVenta","Devolución de stock"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService anularVenta Devolución de stock anularVenta_devuelveStock_calculaCorrecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"anularVenta_devuelveStock_calculaCorrecto"},{"ancestorTitles":["VentasService","anularVenta","Devolución de stock"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"VentasService anularVenta Devolución de stock anularVenta_multipleProductos_devuelveTodos","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"anularVenta_multipleProductos_devuelveTodos"},{"ancestorTitles":["VentasService","anularVenta","Reversión en caja"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService anularVenta Reversión en caja anularVenta_revierteCaja_montoNegativo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"anularVenta_revierteCaja_montoNegativo"},{"ancestorTitles":["VentasService","getVentas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"VentasService getVentas getVentas_filtroFecha_formateaCorrecto","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"getVentas_filtroFecha_formateaCorrecto"}],"endTime":1769086484256,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/unit/services/ventasService.test.js","startTime":1769086484225,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Clientes Service","crearCliente"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service crearCliente OK: Crea cliente con datos válidos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"OK: Crea cliente con datos válidos"},{"ancestorTitles":["Clientes Service","crearCliente"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service crearCliente ERROR 400: Falta nombre obligatorio","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Falta nombre obligatorio"},{"ancestorTitles":["Clientes Service","crearCliente"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service crearCliente ERROR 400: Cliente duplicado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Cliente duplicado"},{"ancestorTitles":["Clientes Service","actualizarCliente"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service actualizarCliente ERROR 404: Cliente no encontrado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 404: Cliente no encontrado"},{"ancestorTitles":["Clientes Service","buscarClientes"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service buscarClientes ERROR 400: Sin parámetro de búsqueda","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Sin parámetro de búsqueda"},{"ancestorTitles":["Clientes Service","buscarClientes"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Clientes Service buscarClientes OK: Búsqueda con término válido","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"OK: Búsqueda con término válido"},{"ancestorTitles":["Clientes - Tenant Isolation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Clientes - Tenant Isolation ERROR: Contexto sin tenantId lanza error en repo","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR: Contexto sin tenantId lanza error en repo"}],"endTime":1769086484290,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/src/modules/clientes/__tests__/clientes.test.js","startTime":1769086484258,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Vehículos Service","crearVehiculo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service crearVehiculo OK: Crea vehículo con datos válidos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"OK: Crea vehículo con datos válidos"},{"ancestorTitles":["Vehículos Service","crearVehiculo"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service crearVehiculo ERROR 400: Falta sucursal obligatoria","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Falta sucursal obligatoria"},{"ancestorTitles":["Vehículos Service","crearVehiculo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service crearVehiculo ERROR 400: Falta matrícula","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Falta matrícula"},{"ancestorTitles":["Vehículos Service","actualizarVehiculo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service actualizarVehiculo ERROR 404: Vehículo no encontrado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 404: Vehículo no encontrado"},{"ancestorTitles":["Vehículos Service","actualizarVehiculo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service actualizarVehiculo OK: Actualiza vehículo existente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"OK: Actualiza vehículo existente"},{"ancestorTitles":["Vehículos Service","buscarVehiculos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service buscarVehiculos ERROR 400: Sin parámetro de búsqueda ni cliente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ERROR 400: Sin parámetro de búsqueda ni cliente"},{"ancestorTitles":["Vehículos Service","buscarVehiculos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service buscarVehiculos OK: Búsqueda por cliente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"OK: Búsqueda por cliente"},{"ancestorTitles":["Vehículos Service","buscarVehiculos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Vehículos Service buscarVehiculos OK: Búsqueda por término","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"OK: Búsqueda por término"}],"endTime":1769086484325,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/src/modules/vehiculos/__tests__/vehiculos.test.js","startTime":1769086484298,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Compras - Integration Tests","Entrada de Inventario desde Compra"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Entrada de Inventario desde Compra POST_compra_incrementaStock","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST_compra_incrementaStock"},{"ancestorTitles":["Compras - Integration Tests","Entrada de Inventario desde Compra"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Entrada de Inventario desde Compra compra_multipleLineas_incrementaTodos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"compra_multipleLineas_incrementaTodos"},{"ancestorTitles":["Compras - Integration Tests","Cálculo de IVA"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Cálculo de IVA POST_compra_calculaIVACorrecto","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"POST_compra_calculaIVACorrecto"},{"ancestorTitles":["Compras - Integration Tests","Cálculo de IVA"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Cálculo de IVA compra_diferentesIVA_calculaCadaLinea","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"compra_diferentesIVA_calculaCadaLinea"},{"ancestorTitles":["Compras - Integration Tests","Cálculo de IVA"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Cálculo de IVA compra_ivaDeducible_calculaCorrecto","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"compra_ivaDeducible_calculaCorrecto"},{"ancestorTitles":["Compras - Integration Tests","Asociación con Proveedor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Asociación con Proveedor POST_compra_asociaProveedor","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST_compra_asociaProveedor"},{"ancestorTitles":["Compras - Integration Tests","Asociación con Proveedor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Asociación con Proveedor compra_sinProveedor_permitido","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"compra_sinProveedor_permitido"},{"ancestorTitles":["Compras - Integration Tests","Actualización de Costos"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Actualización de Costos compra_actualizaPrecioCosto","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"compra_actualizaPrecioCosto"},{"ancestorTitles":["Compras - Integration Tests","Actualización de Costos"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Actualización de Costos compra_calculaCostoPromedio","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"compra_calculaCostoPromedio"},{"ancestorTitles":["Compras - Integration Tests","Pagos de Compra"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Pagos de Compra compra_pagoEfectivo_registraEnCaja","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"compra_pagoEfectivo_registraEnCaja"},{"ancestorTitles":["Compras - Integration Tests","Pagos de Compra"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Compras - Integration Tests Pagos de Compra compra_pagoCredito_noAfectaCajaInmediato","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"compra_pagoCredito_noAfectaCajaInmediato"}],"endTime":1769086484349,"message":"","name":"/Users/admin/Library/Mobile Documents/com~apple~CloudDocs/Versa-App/backend/tests/integration/compras.test.js","startTime":1769086484327,"status":"passed","summary":""}],"wasInterrupted":false}
